var Player_Controller=Tile_Controller.extend({construct:function(){this.SC.construct();this._walkFrames=new Array();this._walkInterval;this._stopFrame;this._holdingObject;this._className="Player";},init:function(){this._rect={top:0,right:0,bottom:0,left:0};this.setIsHoldingObject(false);var imagesLength=imgs.length-1;this.set_walkFrames(imagesLength)},setIsHoldingObject:function(b){this._holdingObject=b;},getIsHoldingObject:function(){return this._holdingObject;},setWalkFrames:function(len){for(var i=1;i<=len;i++){this._walkFrames.push(i);}},startWalk:function(){this._view.getImageController().hideFrameNum(this._stopFrame);this.walk();},stopWalk:function(){this._walkFrames.unshift(this._walkFrames.pop());for(var i=0;i<this._walkFrames.length;i++){this._view.getImageController().hideFrameNum(this._walkFrames[i]);}
this._view.getImageController().showFrameNum(this._stopFrame);},walk:function(){this._view.getImageController().hideFrameNum(this._walkFrames[0]);this._walkFrames.push(this._walkFrames.shift());this._view.getImageController().showFrameNum(this._walkFrames[0]);},transformPlayerToStage:function(position,stageRotation,stageWidth,stageHeight){var loc={x:position.left,y:position.top};var playerW=this.getViewWidth();var playerH=this.getViewHeight();switch(stageRotation){case 0:var x=-(loc.x+(playerW/2));var y=-(loc.y+(playerH/2));var w=playerW;var h=playerH;break;case 90:var x=-(loc.y+(playerH/2));var y=(loc.x-(playerW/2));var w=playerH;var h=playerW;break;case 180:var x=loc.x-(playerW/2)
var y=loc.y-(playerH/2)
var w=playerW;var h=playerH;break;case 270:var x=(loc.y-(playerH/2));var y=-(loc.x+(playerW/2));var w=playerH;var h=playerW;break;}
var data={x:Math.round((x)),y:Math.round((y)),w:w,h:h}
return data;},getTransformedRect:function(data,stageRotation){var topRounded=Math.floor(data.y);var rightRounded=Math.floor(data.x+data.w);var bottomRounded=Math.floor(data.y+data.h);var leftRounded=Math.floor(data.x);return{top:topRounded,right:rightRounded,bottom:bottomRounded,left:leftRounded};}});