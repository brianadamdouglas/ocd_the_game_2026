var ThoughtBubble_Controller=Tile_Controller.extend({construct:function(){this.SC.construct();this._animationsController;this._animating=false;this._className="Thought Bubble";},bindView:function(view,imageControllerData,stackedAnimationControllerData){this.init();this._view=view;this._view.init(this,imageControllerData,stackedAnimationControllerData);this._animationsController=this._view.getStackedAnimationController();},addListners:function(){g_eventHandler.addAListener("hideBubble",this);g_eventHandler.addAListener("pauseThought",this);g_eventHandler.addAListener("resumeThought",this);g_eventHandler.addAListener("kill",this);},revealBubble:function(){this._view.revealBubble();},hideBubble:function(animation){this._animating=false;this._view.hideBubble(animation);},fireLatestThought:function(type){this._animating=true;this.revealBubble();this._animationsController.runAnimationSequence(type);},pauseThought:function(){if(this._animating){this.hide();g_eventHandler.dispatchAnEvent("pauseAnimationSequence",{});}},resumeThought:function(type){if(this._animating){this.show();g_eventHandler.dispatchAnEvent("resumeAnimationSequence",{});}},addAnimationSequence:function(data){this._animationsController.addAnimationSequence(data);},kill:function(){this._animating=false;this.hide();}});